---
title: 电磁炉理论
tags:
  - 电磁炉
index_img: /img/
categories:
  - 学习
notshow: true
date: 2023-01-13 22:50:16
excerpt: 哪个小男孩不想要一个小男孩呢？
---
## 2022.11.1：哪个小男孩不想要一个小男孩呢？
那天晚上由于某种原因(不记得了)，晚上没回去宿舍在实验室待一晚。反正也不打算睡了就拿出在柜子里放了很久的电磁炮零件开始搓。计划的电路图如下：

![电路图](tb_image_share_1673668494913.jpg)
![已经做完一半的三级电路](wx_camera_1667321412533.jpg.jpg)

但是出现了亿些意外，焊接线圈时候时间过长，线圈的塑料外壳受热变形，炮管插进去无法拿出，也无法正常发射了，于是干脆剪短一截炮管，当晚制作一级。效果大致如下：

{% dplayer "url=https://cr.triority.cn/f/10UP/VID_20221102_044358.mp4" %}

![饮料瓶](IMG_20221102_045138.jpg)

![肥皂](wx_camera_1667.jpg)

当晚的成果也就只能止步于此了，录制视频时候已经是凌晨4点了熬不动了。但是显然这只是一个大坑的开始。

这学期在11月末被迫结束，11月也一直在忙竞赛和期末考试，这件事也一直搁置，直到寒假。

## 2023.1.13：开始深入理论学习
如今已经是寒假，由于担心一大箱子的电容在坐高铁时候会遇到麻烦，没敢带，那些材料也都放在学校。但是假期是一个学习理论知识的好机会。

### 升压电路
首先视频里那个升压电路，也太慢了吧。才一个电容就要那么久，要是多几级岂不是一发充电一分钟。打算自己搓一个升压电路。于是我这个学工程力学的第一次开始接触强电。

升压方案显然是选择zvs电路，b站上有个up详细讲解了无抽头zvs的原理：

{% raw %}
<div style="position: relative; width: 100%; height: 0; padding-bottom: 75%;">
<iframe src="//player.bilibili.com/player.html?aid=683950620&bvid=BV1UU4y127Gt&cid=717467029&page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true" style="position: absolute; width: 100%; height: 100%; Left: 0; top: 0;" ></iframe></div>
{% endraw %}

这个视频已经讲的很详细了，但是这个电路输出的是高频交流，我们需要高压直流，而且绝对不能高于电容的耐压。高压直流好办，zvs输出的高频交流经过变压器升压，得到高压交流，再经过整流桥得到高压直流。但是如何限制最高电压好久没找到可信的方案。

之前电磁炮原件是在tb的电磁爱好家买的，我去问了升压模块原理图，他给我发了个这个：

![zvs升压电路](8de9584e18cd329317822012d20e009b.jpg)

显然没有我想要的变压器右边的内容，不过可以留着将来自己做元件选型时候用。

今天在科创网上看见一些范例看起来还可行：

[简单的电容充电限压电路](https://www.kechuang.org/t/53017)

![电容充电限压](电容充电限压.png)

> 主要是LM393P电压比较器，对分压后的电容电压进行检测，达到指定值（通过R3调节）后驱动8550来控制ZVS的开启与关闭（这个控制端怎么接就不用细说了吧~）；
通过R7的正反馈使LM393P产生迟滞效应，实际效果如：电容充至405V关，降到395V开，以此循环；
调节R7可以调整迟滞的范围，不加此电阻的话会导致ZVS不停的开启关闭，此时ZVS中的MOS管会较大的损耗发热

大草在网上看见一个没有迟滞效应的，输出这样的：

![示波器](SDS2502XPlus_PNG_6.png)

这要是直接接进去mos死得惨啊hhhhc

到这里直流升压电路理论上基本完成，有空画个电路图，然后等到开学去再选型制作等。

### 线圈控制
##### 电控方式
和其他网友交流过程中，很多高玩都是采用模拟计算得到参数之后直接延时控制，使速度最高或者效率最高。但是我更倾向于使用红外管检测发射，主要是为了适应频繁更换的发射物体，比如第一天晚上实验室能被磁铁吸引的，能塞进炮管的东西，全都打了一遍。不过如果将来确定了发射物体并且做好了自动供弹装置，也许我也会采用模拟计算参数的方法。

##### 控制电路
需要研究的工作也有很多。第一个版本，也就是前面的视频，用的是晶闸管。他的问题就是一旦导通无法主动关断，只能等电容放电完成。这样的缺点首先就是时间不可控的放电过程会导致反拉，使发射物体减速，其次还会导致电能利用效率低，剩余能量都以热量形式损失。
有一篇文章讲了相关内容：[浅谈电炮能量回收——斩波电路与绕组能量回收](https://www.kechuang.org/t/87752)我大概讲一下我的想法。

第一个版本的电路就是这样：

![最简单省钱的电路](nor.png)

问题也有很多：
+ 绕组同时存在于两个不同的电流回路，电流几乎不可控
+ 绕组电流衰减速度慢，对部分类型的电炮有不利影响
+ 半导体元件与绕组电流应力大，效率低下

最后优化有两种比较好的方案：

|第一种|第二种|
|---|---|
| ![第一种](fbq.png) | ![第二种](fbp.png) |

第一种保留的原因是手头有很多电容hhh如果电容并联的足够多，压降如果不太大，而且充电功率足够大，可以直接疯狂连发，当然这只是我的想法，如果实验验证不可行，那就采取第二种方式。

主控打算采用`ESP32-WROOM-32E`(我刚画完一个esp的开发板)，而且速度比较快，延迟小一些(速度240M，不知道io的极限速度会有多少，猜测肯定比那18M的速度快吧)

这种方式显然就要改成用igbt了，在科创网看见有人推荐的一个型号，原作者说想找一个电压600V左右电流也比较大而且不太贵的igbt，原文已经找不到了，在搜索记录里找到了这个型号`IRGPS4067D`：

![IRGPS4067D](QQ图片20230114211816.png)

我也不记得我在学校那些的型号了，购买记录翻出来买过一些70tops16晶闸管，还有一些咸鱼买的型号开学再去看吧(当时甚至不知道买的是晶闸管还是Igbt)。
